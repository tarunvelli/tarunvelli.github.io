<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Ordbot | Tarun Vellishetty</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="SAAS Project that enables small to medium vendors to sell via WhatsApp">
<meta name="generator" content="Hugo 0.133.1">


  <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />








  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">←</span>Home</a>
	

	
	<a href="/tags">Tags</a>

	
	  <a class="button" href="">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Ordbot</h1>

    <div class="tip">
        <time datetime="2020-07-18 00:00:00 &#43;0000 UTC">Jul 18, 2020</time>
        <span class="split">
          ·
        </span>
        <span>
          224 words
        </span>
        <span class="split">
          ·
        </span>
        <span>
          2 minute read
        </span>
    </div>

    
    


    <div class="content">
      <center>Whatsapp chatbot to place and manage orders</center>
<p><p class="markdown-image">
  <img src="/assets/ordbot.gif" alt="ordbot"  />
</p></p>
<center>
  <a href="https://github.com/tarunvelli/ordbot" target="_blank" rel="noopener noreferrer">Github</a>
</center>
<h1 id="about">About <a href="#about" class="anchor">🔗</a></h1><p>This prodcut enables order management through whatsapp. The main seller-facing product is a webapp that recieves new orders and updates the status through a drag and drop interface. The customer can send a message through whatsapp and they&rsquo;ll recieve a link with menu that can also take orders.</p>
<p>I built this before whatsapp had business accounts and business specific APIs. This was a proof of concept implementation that is now out of date and will not work.</p>
<h1 id="installation">Installation <a href="#installation" class="anchor">🔗</a></h1><h2 id="prerequisites">Prerequisites <a href="#prerequisites" class="anchor">🔗</a></h2><h3 id="local">Local <a href="#local" class="anchor">🔗</a></h3><ul>
<li><a href="https://www.ruby-lang.org/en/" target="_blank" rel="noopener">Ruby</a>: we recommend using
<a href="https://rvm.io/" target="_blank" rel="noopener">rvm</a> to manage the Ruby versions. Install the requried ruby version with rvm.  <code>rvm install 2.6.5</code></li>
<li><a href="https://yarnpkg.com/" target="_blank" rel="noopener">Yarn</a> 1.x: please refer to their
<a href="https://classic.yarnpkg.com/en/docs/install" target="_blank" rel="noopener">installation guide</a>.</li>
<li><a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a> 11 or higher.</li>
</ul>
<h3 id="production">Production <a href="#production" class="anchor">🔗</a></h3><ul>
<li>Local setup +</li>
<li><a href="https://redis.io/" target="_blank" rel="noopener">Redis</a> 4 or higher.</li>
<li><a href="https://www.elastic.co" target="_blank" rel="noopener">Elasticsearch</a> 7 or higher.</li>
</ul>
<h2 id="steps">Steps <a href="#steps" class="anchor">🔗</a></h2><ul>
<li>Clone repository</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git clone https://github.com/tarunvelli/ordbot.git
</span></span></code></pre></div><ul>
<li>Change into into repo directory</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cd ordbot
</span></span></code></pre></div><ul>
<li>Install gems</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>bundle install
</span></span></code></pre></div><ul>
<li>Install node_modules</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>yarn install
</span></span></code></pre></div><ul>
<li>
<p>Add .env file (can copy .env_sample) and add required values</p>
<ul>
<li>To generate keys for ACCOUNT_SID_ENCRYPTION_KEY and AUTH_TOEKN_ENCRYPTION_KEY run the following in rails console and copy to .env</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>`rake secret\`[0..31]
</span></span></code></pre></div><ul>
<li>To generate keys for CIPHER_KEY run the following in rails console and copy to .env</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>len   = ActiveSupport::MessageEncryptor.key_len
</span></span><span style="display:flex;"><span>salt  = SecureRandom.random_bytes(len)
</span></span><span style="display:flex;"><span>key   = ActiveSupport::KeyGenerator.new(&#39;&lt;some_password&gt;&#39;).generate_key(salt, len)
</span></span><span style="display:flex;"><span>Base64.encode64(key)
</span></span></code></pre></div><ul>
<li>Run the server</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>rails server
</span></span></code></pre></div><ul>
<li>The app will be available at http://localhost:3000</li>
</ul>

    </div>

    
        <div class="tags">
            
                <a href="https://tarunvelli.site/tags/rails">rails</a>
            
                <a href="https://tarunvelli.site/tags/whatsapp">whatsapp</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    
        <div id="social">


    <a class="symbol" href="mailto:tarunvelli@gmail.com" rel="me" target="_blank">
        
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="#bbbbbb" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"></path>
   <path d="M3 7l9 6l9 -6"></path>
</svg>
    </a>

    <a class="symbol" href="https://github.com/tarunvelli" rel="me" target="_blank">
        
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="#bbbbbb" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
</svg>
    </a>

    <a class="symbol" href="https://www.linkedin.com/in/tarun-velli" rel="me" target="_blank">
        
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="#bbbbbb" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"></path>
   <path d="M8 11l0 5"></path>
   <path d="M8 8l0 .01"></path>
   <path d="M12 16l0 -5"></path>
   <path d="M16 16v-3a2 2 0 0 0 -4 0"></path>
</svg>
    </a>


</div>

    

    
</footer>



  </body>
</html>
